/*!
 * json-schema-faker v0.5.0-rc17
 * (c) Alvaro Cabrera <pateketrueke@gmail.com> (https://soypache.co)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("util"),require("fs"),require("url"),require("http"),require("https")):"function"==typeof define&&define.amd?define(["util","fs","url","http","https"],t):(e=e||self).JSONSchemaFaker=t(e.util$1,e.fs,e.url,e.http,e.https)}(this,function(e,t,r,n,i){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i;var o={order:100,allowEmpty:!0,canParse:".json",parse:function(e){return new Promise(function(t,r){var n=e.data;Buffer.isBuffer(n)&&(n=n.toString()),"string"==typeof n?0===n.trim().length?t(void 0):t(JSON.parse(n)):t(n)})}};function a(e){return null==e}var s={isNothing:a,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:a(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,i,o;if(t)for(r=0,n=(o=Object.keys(t)).length;r<n;r+=1)e[i=o[r]]=t[i];return e}};function u(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t};var c=u;function l(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}l.prototype.getSnippet=function(e,t){var r,n,i,o,a;if(!this.buffer)return null;for(e=e||4,t=t||75,r="",n=this.position;n>0&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(n-1));)if(n-=1,this.position-n>t/2-1){r=" ... ",n+=5;break}for(i="",o=this.position;o<this.buffer.length&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>t/2-1){i=" ... ",o-=5;break}return a=this.buffer.slice(n,o),s.repeat(" ",e)+r+a+i+"\n"+s.repeat(" ",e+this.position-n+r.length)+"^"},l.prototype.toString=function(e){var t,r="";return this.name&&(r+='in "'+this.name+'" '),r+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(r+=":\n"+t),r};var f=l,p=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],h=["scalar","sequence","mapping"];var d=function(e,t){var r,n;if(t=t||{},Object.keys(t).forEach(function(t){if(-1===p.indexOf(t))throw new c('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(r=t.styleAliases||null,n={},null!==r&&Object.keys(r).forEach(function(e){r[e].forEach(function(t){n[String(t)]=e})}),n),-1===h.indexOf(this.kind))throw new c('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function m(e,t,r){var n=[];return e.include.forEach(function(e){r=m(e,t,r)}),e[t].forEach(function(e){r.forEach(function(t,r){t.tag===e.tag&&t.kind===e.kind&&n.push(r)}),r.push(e)}),r.filter(function(e,t){return-1===n.indexOf(t)})}function g(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new c("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=m(this,"implicit",[]),this.compiledExplicit=m(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{}};function n(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(this.compiledImplicit,this.compiledExplicit)}g.DEFAULT=null,g.create=function(){var e,t;switch(arguments.length){case 1:e=g.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new c("Wrong number of arguments for Schema.create function")}if(e=s.toArray(e),t=s.toArray(t),!e.every(function(e){return e instanceof g}))throw new c("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof d}))throw new c("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new g({include:e,explicit:t})};var y=g,v=new y({explicit:[new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]});var b=new d("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});var w=new d("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function x(e){return 48<=e&&e<=55}function A(e){return 48<=e&&e<=57}var k=new d("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,i=0,o=!1;if(!n)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===n)return!0;if("b"===(t=e[++i])){for(i++;i<n;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(i++;i<n;i++)if("_"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;o=!0}return o&&"_"!==t}for(;i<n;i++)if("_"!==(t=e[i])){if(!x(e.charCodeAt(i)))return!1;o=!0}return o&&"_"!==t}if("_"===t)return!1;for(;i<n;i++)if("_"!==(t=e[i])){if(":"===t)break;if(!A(e.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,r,n=e,i=1,o=[];return-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(i=-1),t=(n=n.slice(1))[0]),"0"===n?0:"0"===t?"b"===n[1]?i*parseInt(n.slice(2),2):"x"===n[1]?i*parseInt(n,16):i*parseInt(n,8):-1!==n.indexOf(":")?(n.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),n=0,r=1,o.forEach(function(e){n+=e*r,r*=60}),i*n):i*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!s.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),O=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var E=/^[-+]?[0-9]+e/;var j=new y({include:[v],implicit:[b,w,k,new d("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!O.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r,n,i;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,n=1,i.forEach(function(e){t+=e*n,n*=60}),r*t):r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||s.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(e))return"-0.0";return r=e.toString(10),E.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})]}),C=new y({include:[j]}),S=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),_=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var I=new d("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==S.exec(e)||null!==_.exec(e))},construct:function(e){var t,r,n,i,o,a,s,u,c=0,l=null;if(null===(t=S.exec(e))&&(t=_.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],a=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(l=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(l=-l)),u=new Date(Date.UTC(r,n,i,o,a,s,c)),l&&u.setTime(u.getTime()-l),u},instanceOf:Date,represent:function(e){return e.toISOString()}});var P,R=new d("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}});try{var $=require;P=$("buffer").Buffer}catch(e){}var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var N=new d("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,o=T;for(r=0;r<i;r++)if(!((t=o.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=T,a=0,s=[];for(t=0;t<i;t++)t%4==0&&t&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|o.indexOf(n.charAt(t));return 0==(r=i%4*6)?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):18===r?(s.push(a>>10&255),s.push(a>>2&255)):12===r&&s.push(a>>4&255),P?P.from?P.from(s):new P(s):s},predicate:function(e){return P&&P.isBuffer(e)},represent:function(e){var t,r,n="",i=0,o=e.length,a=T;for(t=0;t<o;t++)t%3==0&&t&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+e[t];return 0==(r=o%3)?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):2===r?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):1===r&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}}),M=Object.prototype.hasOwnProperty,F=Object.prototype.toString;var L=new d("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,o,a=[],s=e;for(t=0,r=s.length;t<r;t+=1){if(n=s[t],o=!1,"[object Object]"!==F.call(n))return!1;for(i in n)if(M.call(n,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==a.indexOf(i))return!1;a.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),D=Object.prototype.toString;var H=new d("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==D.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;o[t]=[i[0],n[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}}),U=Object.prototype.hasOwnProperty;var B=new y({include:[C],implicit:[I,R],explicit:[N,L,H,new d("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(U.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})]});var q=new d("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}});var G,Y=new d("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";if("/"===t[0]){if(r&&(n=r[1]),n.length>3)return!1;if("/"!==t[t.length-n.length-1])return!1}return!0},construct:function(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return"/"===t[0]&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}});try{var J=require;G=J("esprima")}catch(e){"undefined"!=typeof window&&(G=window.esprima)}var Z=new d("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",r=G.parse(t,{range:!0});return"Program"===r.type&&1===r.body.length&&"ExpressionStatement"===r.body[0].type&&("ArrowFunctionExpression"===r.body[0].expression.type||"FunctionExpression"===r.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,r="("+e+")",n=G.parse(r,{range:!0}),i=[];if("Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"ArrowFunctionExpression"!==n.body[0].expression.type&&"FunctionExpression"!==n.body[0].expression.type)throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(e){i.push(e.name)}),t=n.body[0].expression.body.range,"BlockStatement"===n.body[0].expression.body.type?new Function(i,r.slice(t[0]+1,t[1]-1)):new Function(i,"return "+r.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}}),z=y.DEFAULT=new y({include:[B],explicit:[q,Y,Z]}),W=Object.prototype.hasOwnProperty,V=1,K=2,X=3,Q=4,ee=1,te=2,re=3,ne=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ie=/[\x85\u2028\u2029]/,oe=/[,\[\]\{\}]/,ae=/^(?:!|!!|![a-z\-]+!)$/i,se=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ue(e){return Object.prototype.toString.call(e)}function ce(e){return 10===e||13===e}function le(e){return 9===e||32===e}function fe(e){return 9===e||32===e||10===e||13===e}function pe(e){return 44===e||91===e||93===e||123===e||125===e}function he(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function de(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"Â…":95===e?"Â ":76===e?"\u2028":80===e?"\u2029":""}function me(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var ge=new Array(256),ye=new Array(256),ve=0;ve<256;ve++)ge[ve]=de(ve)?1:0,ye[ve]=de(ve);function be(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||z,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function we(e,t){return new c(t,new f(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function xe(e,t){throw we(e,t)}function Ae(e,t){e.onWarning&&e.onWarning.call(null,we(e,t))}var ke={YAML:function(e,t,r){var n,i,o;null!==e.version&&xe(e,"duplication of %YAML directive"),1!==r.length&&xe(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&xe(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),o=parseInt(n[2],10),1!==i&&xe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&Ae(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,i;2!==r.length&&xe(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],ae.test(n)||xe(e,"ill-formed tag handle (first argument) of the TAG directive"),W.call(e.tagMap,n)&&xe(e,'there is a previously declared suffix for "'+n+'" tag handle'),se.test(i)||xe(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[n]=i}};function Oe(e,t,r,n){var i,o,a,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||xe(e,"expected valid JSON character");else ne.test(s)&&xe(e,"the stream contains non-printable characters");e.result+=s}}function Ee(e,t,r,n){var i,o,a,u;for(s.isObject(r)||xe(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,u=(i=Object.keys(r)).length;a<u;a+=1)o=i[a],W.call(t,o)||(t[o]=r[o],n[o]=!0)}function je(e,t,r,n,i,o,a,s){var u,c;if(Array.isArray(i))for(u=0,c=(i=Array.prototype.slice.call(i)).length;u<c;u+=1)Array.isArray(i[u])&&xe(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===ue(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===ue(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(o))for(u=0,c=o.length;u<c;u+=1)Ee(e,t,o[u],r);else Ee(e,t,o,r);else e.json||W.call(r,i)||!W.call(t,i)||(e.line=a||e.line,e.position=s||e.position,xe(e,"duplicated mapping key")),t[i]=o,delete r[i];return t}function Ce(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):xe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Se(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;le(i);)i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!ce(i))break;for(Ce(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&Ae(e,"deficient indentation"),n}function _e(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!fe(t)))}function Ie(e,t){1===t?e.result+=" ":t>1&&(e.result+=s.repeat("\n",t-1))}function Pe(e,t){var r,n,i=e.tag,o=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),n=e.input.charCodeAt(e.position);0!==n&&45===n&&fe(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Se(e,!0,-1)&&e.lineIndent<=t)a.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,Te(e,t,X,!1,!0),a.push(e.result),Se(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)xe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=a,!0)}function Re(e){var t,r,n,i,o=!1,a=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&xe(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):xe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!fe(i);)33===i&&(a?xe(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),ae.test(r)||xe(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),oe.test(n)&&xe(e,"tag suffix cannot contain flow indicator characters")}return n&&!se.test(n)&&xe(e,"tag name cannot contain such characters: "+n),o?e.tag=n:W.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:xe(e,'undeclared tag handle "'+r+'"'),!0}function $e(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&xe(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!fe(r)&&!pe(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&xe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Te(e,t,r,n,i){var o,a,u,c,l,f,p,h,d=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=u=Q===r||X===r,n&&Se(e,!0,-1)&&(m=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;Re(e)||$e(e);)Se(e,!0,-1)?(m=!0,u=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):u=!1;if(u&&(u=m||i),1!==d&&Q!==r||(p=V===r||K===r?t:t+1,h=e.position-e.lineStart,1===d?u&&(Pe(e,h)||function(e,t,r){var n,i,o,a,s,u=e.tag,c=e.anchor,l={},f={},p=null,h=null,d=null,m=!1,g=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);0!==s;){if(n=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,63!==s&&58!==s||!fe(n)){if(!Te(e,r,K,!1,!0))break;if(e.line===o){for(s=e.input.charCodeAt(e.position);le(s);)s=e.input.charCodeAt(++e.position);if(58===s)fe(s=e.input.charCodeAt(++e.position))||xe(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(je(e,l,f,p,h,null),p=h=d=null),g=!0,m=!1,i=!1,p=e.tag,h=e.result;else{if(!g)return e.tag=u,e.anchor=c,!0;xe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!g)return e.tag=u,e.anchor=c,!0;xe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(m&&(je(e,l,f,p,h,null),p=h=d=null),g=!0,m=!0,i=!0):m?(m=!1,i=!0):xe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=n;if((e.line===o||e.lineIndent>t)&&(Te(e,t,Q,!0,i)&&(m?h=e.result:d=e.result),m||(je(e,l,f,p,h,d,o,a),p=h=d=null),Se(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)xe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&je(e,l,f,p,h,null),g&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=l),g}(e,h,p))||function(e,t){var r,n,i,o,a,s,u,c,l,f,p=!0,h=e.tag,d=e.anchor,m={};if(91===(f=e.input.charCodeAt(e.position)))i=93,s=!1,n=[];else{if(123!==f)return!1;i=125,s=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),f=e.input.charCodeAt(++e.position);0!==f;){if(Se(e,!0,t),(f=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=h,e.anchor=d,e.kind=s?"mapping":"sequence",e.result=n,!0;p||xe(e,"missed comma between flow collection entries"),l=null,o=a=!1,63===f&&fe(e.input.charCodeAt(e.position+1))&&(o=a=!0,e.position++,Se(e,!0,t)),r=e.line,Te(e,t,V,!1,!0),c=e.tag,u=e.result,Se(e,!0,t),f=e.input.charCodeAt(e.position),!a&&e.line!==r||58!==f||(o=!0,f=e.input.charCodeAt(++e.position),Se(e,!0,t),Te(e,t,V,!1,!0),l=e.result),s?je(e,n,m,c,u,l):o?n.push(je(e,null,m,c,u,l)):n.push(u),Se(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}xe(e,"unexpected end of the stream within a flow collection")}(e,p)?g=!0:(a&&function(e,t){var r,n,i,o,a,u=ee,c=!1,l=!1,f=t,p=0,h=!1;if(124===(o=e.input.charCodeAt(e.position)))n=!1;else{if(62!==o)return!1;n=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)ee===u?u=43===o?re:te:xe(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(a=o)&&a<=57?a-48:-1)>=0))break;0===i?xe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?xe(e,"repeat of an indentation width identifier"):(f=t+i-1,l=!0)}if(le(o)){do{o=e.input.charCodeAt(++e.position)}while(le(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!ce(o)&&0!==o)}for(;0!==o;){for(Ce(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!l||e.lineIndent<f)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>f&&(f=e.lineIndent),ce(o))p++;else{if(e.lineIndent<f){u===re?e.result+=s.repeat("\n",c?1+p:p):u===ee&&c&&(e.result+="\n");break}for(n?le(o)?(h=!0,e.result+=s.repeat("\n",c?1+p:p)):h?(h=!1,e.result+=s.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=s.repeat("\n",p):e.result+=s.repeat("\n",c?1+p:p),c=!0,l=!0,p=0,r=e.position;!ce(o)&&0!==o;)o=e.input.charCodeAt(++e.position);Oe(e,r,e.position,!1)}}return!0}(e,p)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Oe(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else ce(r)?(Oe(e,n,i,!0),Ie(e,Se(e,!1,t)),n=i=e.position):e.position===e.lineStart&&_e(e)?xe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);xe(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var r,n,i,o,a,s,u;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return Oe(e,r,e.position,!0),e.position++,!0;if(92===s){if(Oe(e,r,e.position,!0),ce(s=e.input.charCodeAt(++e.position)))Se(e,!1,t);else if(s<256&&ge[s])e.result+=ye[s],e.position++;else if((a=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(i=a,o=0;i>0;i--)(a=he(s=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+a:xe(e,"expected hexadecimal character");e.result+=me(o),e.position++}else xe(e,"unknown escape sequence");r=n=e.position}else ce(s)?(Oe(e,r,n,!0),Ie(e,Se(e,!1,t)),r=n=e.position):e.position===e.lineStart&&_e(e)?xe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}xe(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?g=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!fe(n)&&!pe(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&xe(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(r)||xe(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Se(e,!0,-1),!0}(e)?function(e,t,r){var n,i,o,a,s,u,c,l,f=e.kind,p=e.result;if(fe(l=e.input.charCodeAt(e.position))||pe(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(fe(n=e.input.charCodeAt(e.position+1))||r&&pe(n)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,a=!1;0!==l;){if(58===l){if(fe(n=e.input.charCodeAt(e.position+1))||r&&pe(n))break}else if(35===l){if(fe(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&_e(e)||r&&pe(l))break;if(ce(l)){if(s=e.line,u=e.lineStart,c=e.lineIndent,Se(e,!1,-1),e.lineIndent>=t){a=!0,l=e.input.charCodeAt(e.position);continue}e.position=o,e.line=s,e.lineStart=u,e.lineIndent=c;break}}a&&(Oe(e,i,o,!1),Ie(e,e.line-s),i=o=e.position,a=!1),le(l)||(o=e.position+1),l=e.input.charCodeAt(++e.position)}return Oe(e,i,o,!1),!!e.result||(e.kind=f,e.result=p,!1)}(e,p,V===r)&&(g=!0,null===e.tag&&(e.tag="?")):(g=!0,null===e.tag&&null===e.anchor||xe(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(g=u&&Pe(e,h))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(c=0,l=e.implicitTypes.length;c<l;c+=1)if((f=e.implicitTypes[c]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else W.call(e.typeMap[e.kind||"fallback"],e.tag)?(f=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&f.kind!==e.kind&&xe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result)?(e.result=f.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):xe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):xe(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function Ne(e){var t,r,n,i,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(Se(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(a=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!fe(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&xe(e,"directive name must not be less than one character in length");0!==i;){for(;le(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!ce(i));break}if(ce(i))break;for(t=e.position;0!==i&&!fe(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&Ce(e),W.call(ke,r)?ke[r](e,r,n):Ae(e,'unknown document directive "'+r+'"')}Se(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Se(e,!0,-1)):a&&xe(e,"directives end mark is expected"),Te(e,e.lineIndent-1,Q,!1,!0),Se(e,!0,-1),e.checkLineBreaks&&ie.test(e.input.slice(o,e.position))&&Ae(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_e(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Se(e,!0,-1)):e.position<e.length-1&&xe(e,"end of the stream or a document separator is expected")}function Me(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new be(e,t);for(r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ne(r);return r.documents}function Fe(e,t,r){var n,i,o=Me(e,r);if("function"!=typeof t)return o;for(n=0,i=o.length;n<i;n+=1)t(o[n])}function Le(e,t){var r=Me(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new c("expected a single document in the stream, but found more")}}var De={loadAll:Fe,load:Le,safeLoadAll:function(e,t,r){if("function"!=typeof t)return Fe(e,s.extend({schema:B},r));Fe(e,t,s.extend({schema:B},r))},safeLoad:function(e,t){return Le(e,s.extend({schema:B},t))}},He=Object.prototype.toString,Ue=Object.prototype.hasOwnProperty,Be=9,qe=10,Ge=32,Ye=33,Je=34,Ze=35,ze=37,We=38,Ve=39,Ke=42,Xe=44,Qe=45,et=58,tt=62,rt=63,nt=64,it=91,ot=93,at=96,st=123,ut=124,ct=125,lt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ft=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function pt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new c("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+s.repeat("0",n-t.length)+t}function ht(e){this.schema=e.schema||z,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=s.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,o,a,s,u;if(null===t)return{};for(r={},i=0,o=(n=Object.keys(t)).length;i<o;i+=1)a=n[i],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=e.compiledTypeMap.fallback[a])&&Ue.call(u.styleAliases,s)&&(s=u.styleAliases[s]),r[a]=s;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function dt(e,t){for(var r,n=s.repeat(" ",t),i=0,o=-1,a="",u=e.length;i<u;)-1===(o=e.indexOf("\n",i))?(r=e.slice(i),i=u):(r=e.slice(i,o+1),i=o+1),r.length&&"\n"!==r&&(a+=n),a+=r;return a}function mt(e,t){return"\n"+s.repeat(" ",e.indent*t)}function gt(e){return e===Ge||e===Be}function yt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function vt(e){return yt(e)&&65279!==e&&e!==Xe&&e!==it&&e!==ot&&e!==st&&e!==ct&&e!==et&&e!==Ze}function bt(e){return/^\n* /.test(e)}var wt=1,xt=2,At=3,kt=4,Ot=5;function Et(e,t,r,n,i){var o,a,s,u=!1,c=!1,l=-1!==n,f=-1,p=yt(s=e.charCodeAt(0))&&65279!==s&&!gt(s)&&s!==Qe&&s!==rt&&s!==et&&s!==Xe&&s!==it&&s!==ot&&s!==st&&s!==ct&&s!==Ze&&s!==We&&s!==Ke&&s!==Ye&&s!==ut&&s!==tt&&s!==Ve&&s!==Je&&s!==ze&&s!==nt&&s!==at&&!gt(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!yt(a=e.charCodeAt(o)))return Ot;p=p&&vt(a)}else{for(o=0;o<e.length;o++){if((a=e.charCodeAt(o))===qe)u=!0,l&&(c=c||o-f-1>n&&" "!==e[f+1],f=o);else if(!yt(a))return Ot;p=p&&vt(a)}c=c||l&&o-f-1>n&&" "!==e[f+1]}return u||c?r>9&&bt(e)?Ot:c?kt:At:p&&!i(e)?wt:xt}function jt(e,t,r,n){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==ft.indexOf(t))return"'"+t+"'";var i=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=n||e.flowLevel>-1&&r>=e.flowLevel;switch(Et(t,a,e.indent,o,function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)})){case wt:return t;case xt:return"'"+t.replace(/'/g,"''")+"'";case At:return"|"+Ct(t,e.indent)+St(dt(t,i));case kt:return">"+Ct(t,e.indent)+St(dt(function(e,t){var r,n,i=/(\n+)([^\n]*)/g,o=(s=e.indexOf("\n"),s=-1!==s?s:e.length,i.lastIndex=s,_t(e.slice(0,s),t)),a="\n"===e[0]||" "===e[0];var s;for(;n=i.exec(e);){var u=n[1],c=n[2];r=" "===c[0],o+=u+(a||r||""===c?"":"\n")+_t(c,t),a=r}return o}(t,o),i));case Ot:return'"'+function(e){for(var t,r,n,i="",o=0;o<e.length;o++)(t=e.charCodeAt(o))>=55296&&t<=56319&&(r=e.charCodeAt(o+1))>=56320&&r<=57343?(i+=pt(1024*(t-55296)+r-56320+65536),o++):(n=lt[t],i+=!n&&yt(t)?e[o]:n||pt(t));return i}(t)+'"';default:throw new c("impossible error: invalid scalar style")}}()}function Ct(e,t){var r=bt(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function St(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function _t(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,o=0,a=0,s=0,u="";r=i.exec(e);)(s=r.index)-o>t&&(n=a>o?a:s,u+="\n"+e.slice(o,n),o=n+1),a=s;return u+="\n",e.length-o>t&&a>o?u+=e.slice(o,a)+"\n"+e.slice(a+1):u+=e.slice(o),u.slice(1)}function It(e,t,r){var n,i,o,a,s,u;for(o=0,a=(i=r?e.explicitTypes:e.implicitTypes).length;o<a;o+=1)if(((s=i[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=r?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===He.call(s.represent))n=s.represent(t,u);else{if(!Ue.call(s.represent,u))throw new c("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');n=s.represent[u](t,u)}e.dump=n}return!0}return!1}function Pt(e,t,r,n,i,o){e.tag=null,e.dump=r,It(e,r,!1)||It(e,r,!0);var a=He.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var s,u,l="[object Object]"===a||"[object Array]"===a;if(l&&(u=-1!==(s=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||u||2!==e.indent&&t>0)&&(i=!1),u&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(l&&u&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var i,o,a,s,u,l,f="",p=e.tag,h=Object.keys(r);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new c("sortKeys must be a boolean or a function");for(i=0,o=h.length;i<o;i+=1)l="",n&&0===i||(l+=mt(e,t)),s=r[a=h[i]],Pt(e,t+1,a,!0,!0,!0)&&((u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&qe===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,u&&(l+=mt(e,t)),Pt(e,t+1,s,!0,u)&&(e.dump&&qe===e.dump.charCodeAt(0)?l+=":":l+=": ",f+=l+=e.dump));e.tag=p,e.dump=f||"{}"}(e,t,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(!function(e,t,r){var n,i,o,a,s,u="",c=e.tag,l=Object.keys(r);for(n=0,i=l.length;n<i;n+=1)s=e.condenseFlow?'"':"",0!==n&&(s+=", "),a=r[o=l[n]],Pt(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Pt(e,t,a,!1,!1)&&(u+=s+=e.dump));e.tag=c,e.dump="{"+u+"}"}(e,t,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a){var f=e.noArrayIndent&&t>0?t-1:t;n&&0!==e.dump.length?(!function(e,t,r,n){var i,o,a="",s=e.tag;for(i=0,o=r.length;i<o;i+=1)Pt(e,t+1,r[i],!0,!0)&&(n&&0===i||(a+=mt(e,t)),e.dump&&qe===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}(e,f,e.dump,i),u&&(e.dump="&ref_"+s+e.dump)):(!function(e,t,r){var n,i,o="",a=e.tag;for(n=0,i=r.length;n<i;n+=1)Pt(e,t,r[n],!1,!1)&&(0!==n&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,f,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump))}else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new c("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&jt(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function Rt(e,t){var r,n,i=[],o=[];for(function e(t,r,n){var i,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=r.indexOf(t)))-1===n.indexOf(o)&&n.push(o);else if(r.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],r,n);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)e(t[i[o]],r,n)}(e,i,o),r=0,n=o.length;r<n;r+=1)t.duplicates.push(i[o[r]]);t.usedDuplicates=new Array(n)}function $t(e,t){var r=new ht(t=t||{});return r.noRefs||Rt(e,r),Pt(r,0,e,!0,!0)?r.dump+"\n":""}var Tt={dump:$t,safeDump:function(e,t){return $t(e,s.extend({schema:B},t))}};function Nt(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var Mt={Type:d,Schema:y,FAILSAFE_SCHEMA:v,JSON_SCHEMA:j,CORE_SCHEMA:C,DEFAULT_SAFE_SCHEMA:B,DEFAULT_FULL_SCHEMA:z,load:De.load,loadAll:De.loadAll,safeLoad:De.safeLoad,safeLoadAll:De.safeLoadAll,dump:Tt.dump,safeDump:Tt.safeDump,YAMLException:c,MINIMAL_SCHEMA:v,SAFE_SCHEMA:B,DEFAULT_SCHEMA:z,scan:Nt("scan"),parse:Nt("parse"),compose:Nt("compose"),addConstructor:Nt("addConstructor")},Ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Lt(e,t){return e(t={exports:{}},t.exports),t.exports}var Dt=e.format,Ht=Lt(function(e){var t=Array.prototype.slice,r=["name","message","stack"],n=["name","message","description","number","code","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];function i(r){return function(n,i,f,p){var h=[],d="";"string"==typeof n?(h=t.call(arguments),n=i=void 0):"string"==typeof i?(h=t.call(arguments,1),i=void 0):"string"==typeof f&&(h=t.call(arguments,2)),h.length>0&&(d=e.exports.formatter.apply(null,h)),n&&n.message&&(d+=(d?" \n":"")+n.message);var m,g,y,v=new r(d);return function(e,t){var r,n;!function(e){if(!l)return!1;var t=Object.getOwnPropertyDescriptor(e,"stack");return!!t&&"function"==typeof t.get}(e)?e.stack=t?u(e.stack,t.stack):c(e.stack):t?function(e,t){var r=Object.getOwnPropertyDescriptor(e,"stack");Object.defineProperty(e,"stack",{get:function(){return u(r.get.apply(e),t.stack)},enumerable:!1,configurable:!0})}(e,t):(r=e,n=Object.getOwnPropertyDescriptor(r,"stack"),Object.defineProperty(r,"stack",{get:function(){return c(n.get.apply(r))},enumerable:!1,configurable:!0}))}(m=v,g=n),o(m,g),(y=v).toJSON=a,y.inspect=s,o(v,i),v}}function o(e,t){if(t&&"object"==typeof t)for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i];if(!(r.indexOf(o)>=0))try{e[o]=t[o]}catch(e){}}}function a(){var e={},t=Object.keys(this);t=t.concat(n);for(var r=0;r<t.length;r++){var i=t[r],o=this[i],a=typeof o;"undefined"!==a&&"function"!==a&&(e[i]=o)}return e}function s(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function u(e,t){return(e=c(e))&&t?e+"\n\n"+t:e||t}function c(e){if(e){var t=e.split("\n");if(t.length<2)return e;for(var r=0;r<t.length;r++){if(t[r].indexOf("onoFactory")>=0)return t.splice(r,1),t.join("\n")}return e}}e.exports=i(Error),e.exports.error=i(Error),e.exports.eval=i(EvalError),e.exports.range=i(RangeError),e.exports.reference=i(ReferenceError),e.exports.syntax=i(SyntaxError),e.exports.type=i(TypeError),e.exports.uri=i(URIError),e.exports.formatter=Dt;var l=!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}),Ut=(Ht.error,Ht.range,Ht.reference,Ht.syntax,Ht.type,Ht.uri,Ht.formatter,{parse:function(e,t){try{return Mt.safeLoad(e)}catch(e){throw e instanceof Error?e:Ht(e,e.message)}},stringify:function(e,t,r){try{var n=("string"==typeof r?r.length:r)||2;return Mt.safeDump(e,{indent:n})}catch(e){throw e instanceof Error?e:Ht(e,e.message)}}}),Bt={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],parse:function(e){return new Promise(function(t,r){var n=e.data;Buffer.isBuffer(n)&&(n=n.toString()),t("string"==typeof n?Ut.parse(n):n)})}},qt=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i,Gt={order:300,allowEmpty:!0,encoding:"utf8",canParse:function(e){return("string"==typeof e.data||Buffer.isBuffer(e.data))&&qt.test(e.url)},parse:function(e){if("string"==typeof e.data)return e.data;if(Buffer.isBuffer(e.data))return e.data.toString(this.encoding);throw new Error("data is not text")}},Yt=/\.(jpeg|jpg|gif|png|bmp|ico)$/i,Jt={order:400,allowEmpty:!0,canParse:function(e){return Buffer.isBuffer(e.data)&&Yt.test(e.url)},parse:function(e){return Buffer.isBuffer(e.data)?e.data:new Buffer(e.data)}},Zt=Lt(function(e,t){var n=/^win/.test(process.platform),i=/\//g,o=/^(\w{2,}):\/\//i,a=e.exports,s=[/\?/g,"%3F",/\#/g,"%23"],u=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];t.parse=r.parse,t.resolve=r.resolve,t.cwd=function(){return process.browser?location.href:process.cwd()+"/"},t.getProtocol=function(e){var t=o.exec(e);if(t)return t[1].toLowerCase()},t.getExtension=function(e){var t=e.lastIndexOf(".");return t>=0?e.substr(t).toLowerCase():""},t.getHash=function(e){var t=e.indexOf("#");return t>=0?e.substr(t):"#"},t.stripHash=function(e){var t=e.indexOf("#");return t>=0&&(e=e.substr(0,t)),e},t.isHttp=function(e){var t=a.getProtocol(e);return"http"===t||"https"===t||void 0===t&&process.browser},t.isFileSystemPath=function(e){if(process.browser)return!1;var t=a.getProtocol(e);return void 0===t||"file"===t},t.fromFileSystemPath=function(e){n&&(e=e.replace(/\\/g,"/")),e=encodeURI(e);for(var t=0;t<s.length;t+=2)e=e.replace(s[t],s[t+1]);return e},t.toFileSystemPath=function(e,t){e=decodeURI(e);for(var r=0;r<u.length;r+=2)e=e.replace(u[r],u[r+1]);var o="file://"===e.substr(0,7).toLowerCase();return o&&(e="/"===e[7]?e.substr(8):e.substr(7),n&&"/"===e[1]&&(e=e[0]+":"+e.substr(1)),t?e="file:///"+e:(o=!1,e=n?e:"/"+e)),n&&!o&&":\\"===(e=e.replace(i,"\\")).substr(1,2)&&(e=e[0].toUpperCase()+e.substr(1)),e}}),zt=(Zt.parse,Zt.resolve,Zt.cwd,Zt.getProtocol,Zt.getExtension,Zt.getHash,Zt.stripHash,Zt.isHttp,Zt.isFileSystemPath,Zt.fromFileSystemPath,Zt.toFileSystemPath,{order:100,canRead:function(e){return Zt.isFileSystemPath(e.url)},read:function(e){return new Promise(function(r,n){var i;try{i=Zt.toFileSystemPath(e.url)}catch(t){n(Ht.uri(t,"Malformed URI: %s",e.url))}try{t.readFile(i,function(e,t){e?n(Ht(e,'Error opening file "%s"',i)):r(t)})}catch(e){n(Ht(e,'Error opening file "%s"',i))}})}}),Wt={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead:function(e){return Zt.isHttp(e.url)},read:function(e){var t=Zt.parse(e.url);return process.browser&&!t.protocol&&(t.protocol=Zt.parse(location.href).protocol),function e(t,r,o){return new Promise(function(a,s){t=Zt.parse(t),(o=o||[]).push(t.href),function(e,t){return new Promise(function(r,o){var a="https:"===e.protocol?i:n,s=a.get({hostname:e.hostname,port:e.port,path:e.path,auth:e.auth,protocol:e.protocol,headers:t.headers||{},withCredentials:t.withCredentials});"function"==typeof s.setTimeout&&s.setTimeout(t.timeout),s.on("timeout",function(){s.abort()}),s.on("error",o),s.once("response",function(e){e.body=new Buffer(0),e.on("data",function(t){e.body=Buffer.concat([e.body,new Buffer(t)])}),e.on("error",o),e.on("end",function(){r(e)})})})}(t,r).then(function(n){if(n.statusCode>=400)throw Ht({status:n.statusCode},"HTTP ERROR %d",n.statusCode);if(n.statusCode>=300)if(o.length>r.redirects)s(Ht({status:n.statusCode},"Error downloading %s. \nToo many redirects: \n  %s",o[0],o.join(" \n  ")));else{if(!n.headers.location)throw Ht({status:n.statusCode},"HTTP %d redirect with no location header",n.statusCode);var i=Zt.resolve(t,n.headers.location);e(i,r,o).then(a,s)}else a(n.body||new Buffer(0))}).catch(function(e){s(Ht(e,"Error downloading",t.href))})})}(t,this)}};var Vt=Kt;function Kt(e){Xt(this,Kt.defaults),Xt(this,e)}function Xt(e,t){if(Qt(t))for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],o=t[i],a=e[i];Qt(o)?e[i]=Xt(a||{},o):void 0!==o&&(e[i]=o)}return e}function Qt(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}Kt.defaults={parse:{json:o,yaml:Bt,text:Gt,binary:Jt},resolve:{file:zt,http:Wt,external:!0},dereference:{circular:!0}};var er=or,tr=/\//g,rr=/~/g,nr=/~1/g,ir=/~0/g;function or(e,t,r){this.$ref=e,this.path=t,this.originalPath=r||t,this.value=void 0,this.circular=!1,this.indirections=0}function ar(e,t){if(ur.isAllowed$Ref(e.value,t)){var r=Zt.resolve(e.path,e.value.$ref);if(r!==e.path){var n=e.$ref.$refs._resolve(r,t);return e.indirections+=n.indirections+1,ur.isExtended$Ref(e.value)?(e.value=ur.dereference(e.value,n.value),!1):(e.$ref=n.$ref,e.path=n.path,e.value=n.value,!0)}e.circular=!0}}function sr(e,t,r){if(!e.value||"object"!=typeof e.value)throw Ht.syntax('Error assigning $ref pointer "%s". \nCannot set "%s" of a non-object.',e.path,t);return"-"===t&&Array.isArray(e.value)?e.value.push(r):e.value[t]=r,r}or.prototype.resolve=function(e,t){var r=or.parse(this.path);this.value=e;for(var n=0;n<r.length;n++){ar(this,t)&&(this.path=or.join(this.path,r.slice(n)));var i=r[n];if(void 0===this.value[i])throw Ht.syntax('Error resolving $ref pointer "%s". \nToken "%s" does not exist.',this.originalPath,i);this.value=this.value[i]}return ar(this,t),this},or.prototype.set=function(e,t,r){var n,i=or.parse(this.path);if(0===i.length)return this.value=t,t;this.value=e;for(var o=0;o<i.length-1;o++)ar(this,r),n=i[o],this.value&&void 0!==this.value[n]?this.value=this.value[n]:this.value=sr(this,n,{});return ar(this,r),sr(this,n=i[i.length-1],t),e},or.parse=function(e){var t=Zt.getHash(e).substr(1);if(!t)return[];t=t.split("/");for(var r=0;r<t.length;r++)t[r]=decodeURIComponent(t[r].replace(nr,"/").replace(ir,"~"));if(""!==t[0])throw Ht.syntax('Invalid $ref pointer "%s". Pointers must begin with "#/"',t);return t.slice(1)},or.join=function(e,t){-1===e.indexOf("#")&&(e+="#"),t=Array.isArray(t)?t:[t];for(var r=0;r<t.length;r++){var n=t[r];e+="/"+encodeURIComponent(n.replace(rr,"~0").replace(tr,"~1"))}return e};var ur=cr;function cr(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0}cr.prototype.exists=function(e,t){try{return this.resolve(e,t),!0}catch(e){return!1}},cr.prototype.get=function(e,t){return this.resolve(e,t).value},cr.prototype.resolve=function(e,t,r){return new er(this,e,r).resolve(this.value,t)},cr.prototype.set=function(e,t){var r=new er(this,e);this.value=r.set(this.value,t)},cr.is$Ref=function(e){return e&&"object"==typeof e&&"string"==typeof e.$ref&&e.$ref.length>0},cr.isExternal$Ref=function(e){return cr.is$Ref(e)&&"#"!==e.$ref[0]},cr.isAllowed$Ref=function(e,t){if(cr.is$Ref(e)){if("#/"===e.$ref.substr(0,2)||"#"===e.$ref)return!0;if("#"!==e.$ref[0]&&(!t||t.resolve.external))return!0}},cr.isExtended$Ref=function(e){return cr.is$Ref(e)&&Object.keys(e).length>1},cr.dereference=function(e,t){if(t&&"object"==typeof t&&cr.isExtended$Ref(e)){var r={};return Object.keys(e).forEach(function(t){"$ref"!==t&&(r[t]=e[t])}),Object.keys(t).forEach(function(e){e in r||(r[e]=t[e])}),r}return t};var lr=fr;function fr(){this.circular=!1,this._$refs={},this._root$Ref=null}function pr(e,t){var r=Object.keys(e);return(t=Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t)).length>0&&t[0]&&(r=r.filter(function(r){return-1!==t.indexOf(e[r].pathType)})),r.map(function(t){return{encoded:t,decoded:"file"===e[t].pathType?Zt.toFileSystemPath(t,!0):t}})}fr.prototype.paths=function(e){return pr(this._$refs,arguments).map(function(e){return e.decoded})},fr.prototype.values=function(e){var t=this._$refs;return pr(t,arguments).reduce(function(e,r){return e[r.decoded]=t[r.encoded].value,e},{})},fr.prototype.toJSON=fr.prototype.values,fr.prototype.exists=function(e,t){try{return this._resolve(e,t),!0}catch(e){return!1}},fr.prototype.get=function(e,t){return this._resolve(e,t).value},fr.prototype.set=function(e,t){var r=Zt.resolve(this._root$Ref.path,e),n=Zt.stripHash(r),i=this._$refs[n];if(!i)throw Ht('Error resolving $ref pointer "%s". \n"%s" not found.',e,n);i.set(r,t)},fr.prototype._add=function(e){var t=Zt.stripHash(e),r=new ur;return r.path=t,r.$refs=this,this._$refs[t]=r,this._root$Ref=this._root$Ref||r,r},fr.prototype._resolve=function(e,t){var r=Zt.resolve(this._root$Ref.path,e),n=Zt.stripHash(r),i=this._$refs[n];if(!i)throw Ht('Error resolving $ref pointer "%s". \n"%s" not found.',e,n);return i.resolve(r,t,e)},fr.prototype._get$Ref=function(e){e=Zt.resolve(this._root$Ref.path,e);var t=Zt.stripHash(e);return this._$refs[t]};function hr(e,t,r,n){var i=e[t];if("function"==typeof i)return i.apply(e,[r,n]);if(!n){if(i instanceof RegExp)return i.test(r.url);if("string"==typeof i)return i===r.extension;if(Array.isArray(i))return-1!==i.indexOf(r.extension)}return i}var dr={all:function(e){return Object.keys(e).filter(function(t){return"object"==typeof e[t]}).map(function(t){return e[t].name=t,e[t]})},filter:function(e,t,r){return e.filter(function(e){return!!hr(e,t,r)})},sort:function(e){return e.forEach(function(e){e.order=e.order||Number.MAX_SAFE_INTEGER}),e.sort(function(e,t){return e.order-t.order})},run:function(e,t,r){var n,i,o=0;return new Promise(function(a,s){function u(){if(!(n=e[o++]))return s(i);try{var a=hr(n,t,r,c);a&&"function"==typeof a.then?a.then(l,f):void 0!==a&&l(a)}catch(e){f(e)}}function c(e,t){e?f(e):l(t)}function l(e){a({plugin:n,result:e})}function f(e){i=e,u()}u()})}},mr=function(e,t,r){try{e=Zt.stripHash(e);var n=t._add(e),i={url:e,extension:Zt.getExtension(e)};return function(e,t){return new Promise(function(r,n){var i=dr.all(t.resolve);i=dr.filter(i,"canRead",e),dr.sort(i),dr.run(i,"read",e).then(r,function(t){!t||t instanceof SyntaxError?n(Ht.syntax('Unable to resolve $ref pointer "%s"',e.url)):n(t)})})}(i,r).then(function(e){return n.pathType=e.plugin.name,i.data=e.result,function(e,t){return new Promise(function(r,n){var i=dr.all(t.parse),o=dr.filter(i,"canParse",e),a=o.length>0?o:i;dr.sort(a),dr.run(a,"parse",e).then(function(t){!t.plugin.allowEmpty&&(i=t.result,void 0===i||"object"==typeof i&&0===Object.keys(i).length||"string"==typeof i&&0===i.trim().length||Buffer.isBuffer(i)&&0===i.length)?n(Ht.syntax('Error parsing "%s" as %s. \nParsed value is empty',e.url,t.plugin.name)):r(t);var i},function(t){t?(t=t instanceof Error?t:new Error(t),n(Ht.syntax(t,"Error parsing %s",e.url))):n(Ht.syntax("Unable to parse %s",e.url))})})}(i,r)}).then(function(e){return n.value=e.result,e.result})}catch(e){return Promise.reject(e)}};var gr=function(e){var t,r,n,i;"function"==typeof(e=Array.prototype.slice.call(e))[e.length-1]&&(i=e.pop());"string"==typeof e[0]?(t=e[0],"object"==typeof e[2]?(r=e[1],n=e[2]):(r=void 0,n=e[1])):(t="",r=e[0],n=e[1]);n instanceof Vt||(n=new Vt(n));return{path:t,schema:r,options:n,callback:i}};var yr=function(e,t){if(!t.resolve.external)return Promise.resolve();try{var r=vr(e.schema,e.$refs._root$Ref.path+"#",e.$refs,t);return Promise.all(r)}catch(e){return Promise.reject(e)}};function vr(e,t,r,n){var i=[];return e&&"object"==typeof e&&(ur.isExternal$Ref(e)?i.push(br(e,t,r,n)):Object.keys(e).forEach(function(o){var a=er.join(t,o),s=e[o];ur.isExternal$Ref(s)?i.push(br(s,a,r,n)):i=i.concat(vr(s,a,r,n))})),i}function br(e,t,r,n){var i=Zt.resolve(t,e.$ref),o=Zt.stripHash(i);return(e=r._$refs[o])?Promise.resolve(e.value):mr(i,r,n).then(function(e){var t=vr(e,o+"#",r,n);return Promise.all(t)})}var wr=function(e,t){var r=[];xr(e,"schema",e.$refs._root$Ref.path+"#","#",0,r,e.$refs,t),function(e){var t,r,n;e.sort(function(e,t){if(e.file!==t.file)return e.file<t.file?-1:1;if(e.hash!==t.hash)return e.hash<t.hash?-1:1;if(e.circular!==t.circular)return e.circular?-1:1;if(e.extended!==t.extended)return e.extended?1:-1;if(e.indirections!==t.indirections)return e.indirections-t.indirections;if(e.depth!==t.depth)return e.depth-t.depth;var r=e.pathFromRoot.lastIndexOf("/definitions"),n=t.pathFromRoot.lastIndexOf("/definitions");return r!==n?n-r:e.pathFromRoot.length-t.pathFromRoot.length}),e.forEach(function(e){e.external?e.file===t&&e.hash===r?e.$ref.$ref=n:e.file===t&&0===e.hash.indexOf(r+"/")?e.$ref.$ref=er.join(n,er.parse(e.hash.replace(r,"#"))):(t=e.file,r=e.hash,n=e.pathFromRoot,e.$ref=e.parent[e.key]=ur.dereference(e.$ref,e.value),e.circular&&(e.$ref.$ref=e.pathFromRoot)):e.$ref.$ref=e.hash})}(r)};function xr(e,t,r,n,i,o,a,s){var u=null===t?e:e[t];u&&"object"==typeof u&&(ur.isAllowed$Ref(u)?Ar(e,t,r,n,i,o,a,s):Object.keys(u).sort(function(e,t){return"definitions"===e?-1:"definitions"===t?1:e.length-t.length}).forEach(function(e){var t=er.join(r,e),c=er.join(n,e),l=u[e];ur.isAllowed$Ref(l)?Ar(u,e,r,c,i,o,a,s):xr(u,e,t,c,i,o,a,s)}))}function Ar(e,t,r,n,i,o,a,s){var u=null===t?e:e[t],c=Zt.resolve(r,u.$ref),l=a._resolve(c,s),f=er.parse(n).length,p=Zt.stripHash(l.path),h=Zt.getHash(l.path),d=p!==a._root$Ref.path,m=ur.isExtended$Ref(u);i+=l.indirections;var g=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(i.parent===t&&i.key===r)return i}}(o,e,t);if(g){if(!(f<g.depth||i<g.indirections))return;!function(e,t){var r=e.indexOf(t);e.splice(r,1)}(o,g)}o.push({$ref:u,parent:e,key:t,pathFromRoot:n,depth:f,file:p,hash:h,value:l.value,circular:l.circular,extended:m,external:d,indirections:i}),xr(l.value,null,l.path,n,i+1,o,a,s)}var kr=function(e,t){var r=Or(e.schema,e.$refs._root$Ref.path,"#",[],e.$refs,t);e.$refs.circular=r.circular,e.schema=r.value};function Or(e,t,r,n,i,o){var a,s={value:e,circular:!1};return e&&"object"==typeof e&&(n.push(e),ur.isAllowed$Ref(e,o)?(a=Er(e,t,r,n,i,o),s.circular=a.circular,s.value=a.value):Object.keys(e).forEach(function(u){var c=er.join(t,u),l=er.join(r,u),f=e[u],p=!1;ur.isAllowed$Ref(f,o)?(p=(a=Er(f,c,l,n,i,o)).circular,e[u]=a.value):-1===n.indexOf(f)?(p=(a=Or(f,c,l,n,i,o)).circular,e[u]=a.value):p=jr(c,i,o),s.circular=s.circular||p}),n.pop()),s}function Er(e,t,r,n,i,o){var a=Zt.resolve(t,e.$ref),s=i._resolve(a,o),u=s.circular,c=u||-1!==n.indexOf(s.value);c&&jr(t,i,o);var l=ur.dereference(e,s.value);if(!c){var f=Or(l,s.path,r,n,i,o);c=f.circular,l=f.value}return c&&!u&&"ignore"===o.dereference.circular&&(l=e),u&&(l.$ref=r),{circular:c,value:l}}function jr(e,t,r){if(t.circular=!0,!r.dereference.circular)throw Ht.reference("Circular $ref pointer found at %s",e);return!0}var Cr=Ft.process&&process.nextTick||Ft.setImmediate||function(e){setTimeout(e,0)},Sr=function(e,t){return e?void t.then(function(t){Cr(function(){e(null,t)})},function(t){Cr(function(){e(t)})}):t},_r=Pr,Ir=Ut;function Pr(){this.schema=null,this.$refs=new lr}Pr.parse=function(e,t,r,n){var i=new this;return i.parse.apply(i,arguments)},Pr.prototype.parse=function(e,t,r,n){var i,o=gr(arguments);if(!o.path&&!o.schema){var a=Ht("Expected a file path, URL, or object. Got %s",o.path||o.schema);return Sr(o.callback,Promise.reject(a))}this.schema=null,this.$refs=new lr;var s="http";if(Zt.isFileSystemPath(o.path)&&(o.path=Zt.fromFileSystemPath(o.path),s="file"),o.path=Zt.resolve(Zt.cwd(),o.path),o.schema&&"object"==typeof o.schema){var u=this.$refs._add(o.path);u.value=o.schema,u.pathType=s,i=Promise.resolve(o.schema)}else i=mr(o.path,this.$refs,o.options);var c=this;return i.then(function(e){if(!e||"object"!=typeof e||Buffer.isBuffer(e))throw Ht.syntax('"%s" is not a valid JSON Schema',c.$refs._root$Ref.path||e);return c.schema=e,Sr(o.callback,Promise.resolve(c.schema))}).catch(function(e){return Sr(o.callback,Promise.reject(e))})},Pr.resolve=function(e,t,r,n){var i=new this;return i.resolve.apply(i,arguments)},Pr.prototype.resolve=function(e,t,r,n){var i=this,o=gr(arguments);return this.parse(o.path,o.schema,o.options).then(function(){return yr(i,o.options)}).then(function(){return Sr(o.callback,Promise.resolve(i.$refs))}).catch(function(e){return Sr(o.callback,Promise.reject(e))})},Pr.bundle=function(e,t,r,n){var i=new this;return i.bundle.apply(i,arguments)},Pr.prototype.bundle=function(e,t,r,n){var i=this,o=gr(arguments);return this.resolve(o.path,o.schema,o.options).then(function(){return wr(i,o.options),Sr(o.callback,Promise.resolve(i.schema))}).catch(function(e){return Sr(o.callback,Promise.reject(e))})},Pr.dereference=function(e,t,r,n){var i=new this;return i.dereference.apply(i,arguments)},Pr.prototype.dereference=function(e,t,r,n){var i=this,o=gr(arguments);return this.resolve(o.path,o.schema,o.options).then(function(){return kr(i,o.options),Sr(o.callback,Promise.resolve(i.schema))}).catch(function(e){return Sr(o.callback,Promise.reject(e))})},_r.YAML=Ir;var Rr=function(){this.data={}};Rr.prototype.unregister=function(e){e?delete this.data[e]:this.data={}},Rr.prototype.register=function(e,t){this.data[e]=t},Rr.prototype.registerMany=function(e){var t=this;Object.keys(e).forEach(function(r){t.data[r]=e[r]})},Rr.prototype.get=function(e){return this.data[e]},Rr.prototype.list=function(){return this.data};var $r={defaultInvalidTypeProduct:null,defaultRandExpMax:10,ignoreProperties:[],ignoreMissingRefs:!1,failOnInvalidTypes:!0,failOnInvalidFormat:!0,alwaysFakeOptionals:!1,optionalsProbability:!1,fixedProbabilities:!1,useExamplesValue:!1,useDefaultValue:!1,requiredOnly:!1,minItems:0,maxItems:null,minLength:0,maxLength:null,resolveJsonPath:!1,reuseProperties:!1,fillProperties:!0};$r.random=Math.random;var Tr=new(function(e){function t(){e.call(this),this.data=Object.assign({},$r),this._defaults=$r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaults:{configurable:!0}};return r.defaults.get=function(){return Object.assign({},this._defaults)},Object.defineProperties(t.prototype,r),t}(Rr));function Nr(e,t){return"string"==typeof e?void 0!==t?Tr.register(e,t):Tr.get(e):Tr.registerMany(e)}Nr.getDefaults=function(){return Tr.defaults};var Mr={ALL_TYPES:["array","object","integer","number","string","boolean","null"],MIN_NUMBER:-100,MAX_NUMBER:100,MIN_INTEGER:-1e8,MAX_INTEGER:1e8,MOST_NEAR_DATETIME:2524608e6},Fr={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};const Lr=()=>[{type:Fr.RANGE,from:48,to:57}],Dr=()=>[{type:Fr.CHAR,value:95},{type:Fr.RANGE,from:97,to:122},{type:Fr.RANGE,from:65,to:90}].concat(Lr()),Hr=()=>[{type:Fr.CHAR,value:9},{type:Fr.CHAR,value:10},{type:Fr.CHAR,value:11},{type:Fr.CHAR,value:12},{type:Fr.CHAR,value:13},{type:Fr.CHAR,value:32},{type:Fr.CHAR,value:160},{type:Fr.CHAR,value:5760},{type:Fr.RANGE,from:8192,to:8202},{type:Fr.CHAR,value:8232},{type:Fr.CHAR,value:8233},{type:Fr.CHAR,value:8239},{type:Fr.CHAR,value:8287},{type:Fr.CHAR,value:12288},{type:Fr.CHAR,value:65279}],Ur=()=>[{type:Fr.CHAR,value:10},{type:Fr.CHAR,value:13},{type:Fr.CHAR,value:8232},{type:Fr.CHAR,value:8233}];var Br=()=>({type:Fr.SET,set:Dr(),not:!1}),qr=()=>({type:Fr.SET,set:Dr(),not:!0}),Gr=()=>({type:Fr.SET,set:Lr(),not:!1}),Yr=()=>({type:Fr.SET,set:Lr(),not:!0}),Jr=()=>({type:Fr.SET,set:Hr(),not:!1}),Zr=()=>({type:Fr.SET,set:Hr(),not:!0}),zr=()=>({type:Fr.SET,set:Ur(),not:!0}),Wr=Lt(function(e,t){const r={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,function(e,t,n,i,o,a,s,u){if(n)return e;var c=t?8:i?parseInt(i,16):o?parseInt(o,16):a?parseInt(a,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):r[u],l=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(l)&&(l="\\"+l),l})},t.tokenizeClass=((e,r)=>{for(var n,i,o=[],a=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(n=a.exec(e));)if(n[1])o.push(Br());else if(n[2])o.push(Gr());else if(n[3])o.push(Jr());else if(n[4])o.push(qr());else if(n[5])o.push(Yr());else if(n[6])o.push(Zr());else if(n[7])o.push({type:Fr.RANGE,from:(n[8]||n[9]).charCodeAt(0),to:n[10].charCodeAt(0)});else{if(!(i=n[12]))return[o,a.lastIndex];o.push({type:Fr.CHAR,value:i.charCodeAt(0)})}t.error(r,"Unterminated character class")}),t.error=((e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)})}),Vr=(Wr.strToChars,Wr.tokenizeClass,Wr.error,()=>({type:Fr.POSITION,value:"b"})),Kr=()=>({type:Fr.POSITION,value:"B"}),Xr=()=>({type:Fr.POSITION,value:"^"}),Qr=()=>({type:Fr.POSITION,value:"$"}),en=e=>{var t,r,n=0,i={type:Fr.ROOT,stack:[]},o=i,a=i.stack,s=[],u=t=>{Wr.error(e,`Nothing to repeat at column ${t-1}`)},c=Wr.strToChars(e);for(t=c.length;n<t;)switch(r=c[n++]){case"\\":switch(r=c[n++]){case"b":a.push(Vr());break;case"B":a.push(Kr());break;case"w":a.push(Br());break;case"W":a.push(qr());break;case"d":a.push(Gr());break;case"D":a.push(Yr());break;case"s":a.push(Jr());break;case"S":a.push(Zr());break;default:/\d/.test(r)?a.push({type:Fr.REFERENCE,value:parseInt(r,10)}):a.push({type:Fr.CHAR,value:r.charCodeAt(0)})}break;case"^":a.push(Xr());break;case"$":a.push(Qr());break;case"[":var l;"^"===c[n]?(l=!0,n++):l=!1;var f=Wr.tokenizeClass(c.slice(n),e);n+=f[1],a.push({type:Fr.SET,set:f[0],not:l});break;case".":a.push(zr());break;case"(":var p={type:Fr.GROUP,stack:[],remember:!0};"?"===(r=c[n])&&(r=c[n+1],n+=2,"="===r?p.followedBy=!0:"!"===r?p.notFollowedBy=!0:":"!==r&&Wr.error(e,`Invalid group, character '${r}'`+` after '?' at column ${n-1}`),p.remember=!1),a.push(p),s.push(o),o=p,a=p.stack;break;case")":0===s.length&&Wr.error(e,`Unmatched ) at column ${n-1}`),a=(o=s.pop()).options?o.options[o.options.length-1]:o.stack;break;case"|":o.options||(o.options=[o.stack],delete o.stack);var h=[];o.options.push(h),a=h;break;case"{":var d,m,g=/^(\d+)(,(\d+)?)?\}/.exec(c.slice(n));null!==g?(0===a.length&&u(n),d=parseInt(g[1],10),m=g[2]?g[3]?parseInt(g[3],10):1/0:d,n+=g[0].length,a.push({type:Fr.REPETITION,min:d,max:m,value:a.pop()})):a.push({type:Fr.CHAR,value:123});break;case"?":0===a.length&&u(n),a.push({type:Fr.REPETITION,min:0,max:1,value:a.pop()});break;case"+":0===a.length&&u(n),a.push({type:Fr.REPETITION,min:1,max:1/0,value:a.pop()});break;case"*":0===a.length&&u(n),a.push({type:Fr.REPETITION,min:0,max:1/0,value:a.pop()});break;default:a.push({type:Fr.CHAR,value:r.charCodeAt(0)})}return 0!==s.length&&Wr.error(e,"Unterminated group"),i};class tn{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new tn(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new tn(this.low,e.low-1),new tn(e.high+1,this.high)]:e.low<=this.low?[new tn(e.high+1,this.high)]:[new tn(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class rn{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;r.push(e),this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof rn?e.ranges.forEach(r):(null==t&&(t=e),r(new tn(e,t))),this}subtract(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)r=r.concat(this.ranges[t].subtract(e)),t++;this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof rn?e.ranges.forEach(r):(null==t&&(t=e),r(new tn(e,t))),this}intersect(e,t){var r=[],n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var n=Math.max(this.ranges[t].low,e.low),i=Math.min(this.ranges[t].high,e.high);r.push(new tn(n,i)),t++}};return e instanceof rn?e.ranges.forEach(n):(null==t&&(t=e),n(new tn(e,t))),this.ranges=r,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new rn(this)}numbers(){return this.ranges.reduce((e,t)=>{for(var r=t.low;r<=t.high;)e.push(r),r++;return e},[])}subranges(){return this.ranges.map(e=>({low:e.low,high:e.high,length:1+e.high-e.low}))}}var nn=rn;const on=en.types=Fr;var an=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=en(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var r,n,i,o,a;switch(e.type){case on.ROOT:case on.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),n="",o=0,a=(r=e.options?this._randSelect(e.options):e.stack).length;o<a;o++)n+=this._gen(r[o],t);return e.remember&&(t[e.groupNumber]=n),n;case on.POSITION:return"";case on.SET:var s=this._expand(e);return s.length?String.fromCharCode(this._randSelect(s)):"";case on.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),n="",o=0;o<i;o++)n+=this._gen(e.value,t);return n;case on.REFERENCE:return t[e.value-1]||"";case on.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof nn?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===en.types.CHAR)return new nn(e.value);if(e.type===en.types.RANGE)return new nn(e.from,e.to);{let t=new nn;for(let r=0;r<e.set.length;r++){let n=this._expand(e.set[r]);if(t.add(n),this.ignoreCase)for(let e=0;e<n.length;e++){let r=n.index(e),i=this._toOtherCase(r);r!==i&&t.add(i)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new nn(32,126)}set defaultRange(e){this._range=e}static randexp(t,r){var n;return"string"==typeof t&&(t=new RegExp(t,r)),void 0===t._randexp?(n=new e(t,r),t._randexp=n):(n=t._randexp)._setDefaults(t),n.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}};function sn(e,t,r,n,i){return void 0===i&&(i=!1),r=void 0===r?Mr.MIN_NUMBER:r,n=void 0===n?Mr.MAX_NUMBER:n,(t=void 0===t?n:t)<(e=void 0===e?r:e)&&(t+=e),i?function(e,t){return Nr("random")()*(t-e)+e}(e,t):function(e,t){return e=void 0===e?Mr.MIN_INTEGER:e,t=void 0===t?Mr.MAX_INTEGER:t,Math.floor(Nr("random")()*(t-e+1))+e}(e,t)}var un={pick:function(e){return e[Math.floor(Nr("random")()*e.length)]},date:function(e){if(e)return function(e){switch(e){case"seconds":return 60*sn(0,60);case"minutes":return 612*sn(15,50);case"hours":return 36123*sn(12,72);case"days":return 86412345*sn(7,30);case"weeks":return 604812345*sn(4,52);case"months":return 2592012345*sn(2,13);case"years":return 31104012345*sn(1,20)}}(e);var t=new Date,r=sn(-1e3,Mr.MOST_NEAR_DATETIME);return t.setTime(t.getTime()-r),t},shuffle:function(e){for(var t,r,n=e.length,i=e.slice();n>0;)r=Math.floor(Nr("random")()*n),t=i[n-=1],i[n]=i[r],i[r]=t;return i},number:sn,randexp:function(e){return an.prototype.max=Nr("defaultRandExpMax"),an.prototype.randInt=function(e,t){return e+Math.floor(Nr("random")()*(t-e+1))},new an(e).gen()}};function cn(e,t){return Object.keys(t).forEach(function(r){"object"!=typeof t[r]||null===t[r]?e[r]=t[r]:Array.isArray(t[r])?(e[r]=e[r]||[],t[r].forEach(function(t){-1===e[r].indexOf(t)&&e[r].push(t)})):"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?e[r]=cn({},t[r]):e[r]=cn(e[r],t[r])}),e}function ln(){return un.pick([!1,!0,null,-1,NaN,Math.PI,1/0,void 0,[],{},Math.random(),Math.random().toString(36).substr(2)])}var fn={getSubAttribute:function(e,t){for(var r=t.split(".");r.length;){var n=r.shift();if(!e[n])break;e=e[n]}return e},hasProperties:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.filter(function(t){return void 0!==e[t]}).length>0},omitProps:function(e,t){var r={};return Object.keys(e).forEach(function(n){-1===t.indexOf(n)&&(Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]instanceof Object?cn({},e[n]):e[n])}),r},typecast:function(e,t,r){var n={};switch(e||t.type){case"integer":case"number":if(void 0!==t.minimum&&(n.minimum=t.minimum),void 0!==t.maximum&&(n.maximum=t.maximum),t.enum){var i=Math.max(n.minimum||0,0),o=Math.min(n.maximum||1/0,1/0);t.exclusiveMinimum&&i===t.minimum&&(i+=t.multipleOf||1),t.exclusiveMaximum&&o===t.maximum&&(o-=t.multipleOf||1),(i||o!==1/0)&&(t.enum=t.enum.filter(function(e){return e>=i&&e<=o}))}break;case"string":void 0!==t.minLength&&(n.minLength=t.minLength),void 0!==t.maxLength&&(n.maxLength=t.maxLength);var a=Nr("maxLength"),s=Nr("minLength");a&&n.maxLength>a&&(n.maxLength=a),s&&n.minLength<s&&(n.minLength=s)}var u=r(n);switch(e||t.type){case"number":u=parseFloat(u);break;case"integer":u=parseInt(u,10);break;case"boolean":u=!!u;break;case"string":u=String(u);for(var c=Math.max(n.minLength||0,0),l=Math.min(n.maxLength||1/0,1/0);u.length<c;)t.pattern?u+=un.randexp(t.pattern):u+=""+un.pick([" ","/","_","-","+","=","@","^"])+u;switch(u.length>l&&(u=u.substr(0,l)),t.format){case"date-time":case"datetime":u=new Date(u).toISOString().replace(/([0-9])0+Z$/,"$1Z");break;case"date":u=new Date(u).toISOString().substr(0,10);break;case"time":u=new Date("1969-01-01 "+u).toISOString().substr(11)}}return u},merge:cn,clone:function e(t,r){if(void 0===r&&(r=new Map),!t||"object"!=typeof t)return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){var n=[];return r.set(t,n),n.push.apply(n,t.map(function(t){return e(t,r)})),n}var i={};return r.set(t,i),Object.keys(t).reduce(function(n,i){return n[i]=e(t[i],r),n},i)},short:function(e){var t=JSON.stringify(e),r=JSON.stringify(e,null,2);return t.length>400?r.substr(0,400)+"...":r},notValue:function(e,t){var r=cn({},t);if(void 0!==e.minimum&&(r.maximum=e.minimum,r.exclusiveMaximum=!0),void 0!==e.maximum&&(r.minimum=e.maximum>r.maximum?0:e.maximum,r.exclusiveMinimum=!0),void 0!==e.minLength&&(r.maxLength=e.minLength),void 0!==e.maxLength&&(r.minLength=e.maxLength>r.maxLength?0:e.maxLength),e.type)r.type=un.pick(Mr.ALL_TYPES.filter(function(t){return(Array.isArray(e.type)?e.type:[e.type]).every(function(e){return"number"===t||"integer"===t?"number"!==e&&"integer"!==e:t!==e})}));else if(e.enum){var n;do{n=ln()}while(-1!==e.enum.indexOf(n));r.enum=[n]}return e.required&&r.properties&&e.required.forEach(function(e){delete r.properties[e]}),r},anyValue:ln,validate:function(e,t){return!t.every(function(t){return void 0!==t.minimum&&e>=t.minimum||void 0!==t.maximum&&e<=t.maximum})},isKey:function(e){return-1!==["enum","const","default","examples","required","definitions"].indexOf(e)},template:function e(t,r){return Array.isArray(t)?t.map(function(t){return e(t,r)}):("string"==typeof t&&(t=t.replace(/#\{([\w.-]+)\}/g,function(e,t){return r[t]})),t)}};var pn=function(){this.registry={},this.support={}};pn.prototype.reset=function(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})},pn.prototype.extend=function(e,t){var r,n=this;this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=(r=function(){return n.registry[e]},function(e,t,n,i){var o=e,a=[];"object"==typeof e&&(o=Object.keys(e)[0],Array.isArray(e[o])?a=e[o]:a.push(e[o]));for(var s=o.split("."),u=r();s.length>1;)u=u[s.shift()];return"function"==typeof(e="object"==typeof u?u[s[0]]:u)&&(e=e.apply(u,a.map(function(e){return fn.template(e,i)}))),"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach(function(t){if("function"==typeof e[t])throw new Error("Cannot resolve value for '"+n+": "+o+"', given: "+e)}),e}))},pn.prototype.define=function(e,t){this.support[e]=t},pn.prototype.get=function(e){if(void 0===this.registry[e])throw new ReferenceError("'"+e+"' dependency doesn't exist.");return this.registry[e]},pn.prototype.wrap=function(e){for(var t=this,r=Object.keys(e),n={},i=r.length,o=function(){var o=r[i].replace(/^x-/,""),a=t.support[o];if("function"==typeof a)return Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:function(t){return a.call(n,e[r[i]],e,r[i],t)}}),"break"};i--;){if("break"===o())break}return e};var hn=new Rr;function dn(e,t){if(void 0===e)return hn.list();if("string"==typeof e)if("function"==typeof t)hn.register(e,t);else{if(null!==t&&!1!==t)return hn.get(e);hn.unregister(e)}else hn.registerMany(e)}function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e,t,r){return(vn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&yn(i,r.prototype),i}).apply(null,arguments)}function bn(e){var t="function"==typeof Map?new Map:void 0;return(bn=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return vn(e,arguments,gn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yn(n,e)})(e)}function wn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var xn=eval,An="undefined"!=typeof module&&Boolean(module.exports)&&!("undefined"!=typeof navigator&&"ReactNative"===navigator.product),kn=["value","path","pointer","parent","parentProperty","all"],On=Object.prototype.hasOwnProperty,En=An?require("vm"):{runInNewContext:function(e,t){var r=Object.keys(t),n=[];!function(e,t,r){for(var n=e.length,i=0;i<n;i++)r(e[i])&&t.push(e.splice(i--,1)[0])}(r,n,function(e){return"function"==typeof t[e]});var i=n.reduce(function(e,r){var n=t[r].toString();return/function/.exec(n)||(n="function "+n),"var "+r+"="+n+";"+e},"")+r.reduce(function(e,r){return"var "+r+"="+JSON.stringify(t[r]).replace(/\u2028|\u2029/g,function(e){return"\\u202"+("\u2028"===e?"8":"9")})+";"+e},e);return xn(i)}};function jn(e,t){return(e=e.slice()).push(t),e}function Cn(e,t){return(t=t.slice()).unshift(e),t}var Sn=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=wn(this,gn(t).call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'))).avoidNew=!0,r.value=e,r.name="NewError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,bn(Error)),t}();function _n(e,t,r,n,i){if(!(this instanceof _n))try{return new _n(e,t,r,n,i)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(i=n,n=r,r=t,t=e,e={}),e=e||{};var o=On.call(e,"json")&&On.call(e,"path");if(this.json=e.json||r,this.path=e.path||t,this.resultType=e.resultType&&e.resultType.toLowerCase()||"value",this.flatten=e.flatten||!1,this.wrap=!On.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||i||function(){throw new Error("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var a=this.evaluate({path:o?e.path:t,json:o?e.json:r});if(!a||"object"!==mn(a))throw new Sn(a);return a}}_n.prototype.evaluate=function(e,t,r,n){var i=this,o=this.parent,a=this.parentProperty,s=this.flatten,u=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===mn(e)){if(!e.path)throw new Error('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');t=On.call(e,"json")?e.json:t,s=On.call(e,"flatten")?e.flatten:s,this.currResultType=On.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=On.call(e,"sandbox")?e.sandbox:this.currSandbox,u=On.call(e,"wrap")?e.wrap:u,this.currPreventEval=On.call(e,"preventEval")?e.preventEval:this.currPreventEval,r=On.call(e,"callback")?e.callback:r,this.currOtherTypeCallback=On.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=On.call(e,"parent")?e.parent:o,a=On.call(e,"parentProperty")?e.parentProperty:a,e=e.path}if(o=o||null,a=a||null,Array.isArray(e)&&(e=_n.toPathString(e)),e&&t&&kn.includes(this.currResultType)){this._obj=t;var c=_n.toPathArray(e);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;var l=this._trace(c,t,["$"],o,a,r).filter(function(e){return e&&!e.isParentSelector});return l.length?1!==l.length||u||Array.isArray(l[0].value)?l.reduce(function(e,t){var r=i._getPreferredOutput(t);return s&&Array.isArray(r)?e=e.concat(r):e.push(r),e},[]):this._getPreferredOutput(l[0]):u?[]:void 0}},_n.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){default:throw new TypeError("Unknown result type");case"all":return e.pointer=_n.toPointer(e.path),e.path="string"==typeof e.path?e.path:_n.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return _n.toPathString(e[t]);case"pointer":return _n.toPointer(e.path)}},_n.prototype._handleCallback=function(e,t,r){if(t){var n=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:_n.toPathString(e.path),t(n,r,e)}},_n.prototype._trace=function(e,t,r,n,i,o,a){var s,u=this;if(!e.length)return s={path:r,value:t,parent:n,parentProperty:i},this._handleCallback(s,o,"value"),s;var c=e[0],l=e.slice(1),f=[];function p(e){Array.isArray(e)?e.forEach(function(e){f.push(e)}):f.push(e)}if(("string"!=typeof c||a)&&t&&On.call(t,c))p(this._trace(l,t[c],jn(r,c),t,c,o));else if("*"===c)this._walk(c,l,t,r,n,i,o,function(e,t,r,n,i,o,a,s){p(u._trace(Cn(e,r),n,i,o,a,s,!0))});else if(".."===c)p(this._trace(l,t,r,n,i,o)),this._walk(c,l,t,r,n,i,o,function(e,t,r,n,i,o,a,s){"object"===mn(n[e])&&p(u._trace(Cn(t,r),n[e],jn(i,e),n,e,s))});else{if("^"===c)return this._hasParentSelector=!0,r.length?{path:r.slice(0,-1),expr:l,isParentSelector:!0}:[];if("~"===c)return s={path:jn(r,c),value:i,parent:n,parentProperty:null},this._handleCallback(s,o,"property"),s;if("$"===c)p(this._trace(l,t,r,null,null,o));else if(/^(-?\d*):(-?\d*):?(\d*)$/.test(c))p(this._slice(c,l,t,r,n,i,o));else if(0===c.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(c,l,t,r,n,i,o,function(e,t,r,n,i,o,a,s){u._eval(t.replace(/^\?\((.*?)\)$/,"$1"),n[e],e,i,o,a)&&p(u._trace(Cn(e,r),n,i,o,a,s))})}else if("("===c[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(Cn(this._eval(c,t,r[r.length-1],r.slice(0,-1),n,i),l),t,r,n,i,o))}else if("@"===c[0]){var h=!1,d=c.slice(1,-2);switch(d){default:throw new TypeError("Unknown value type "+d);case"scalar":t&&["object","function"].includes(mn(t))||(h=!0);break;case"boolean":case"string":case"undefined":case"function":mn(t)===d&&(h=!0);break;case"number":mn(t)===d&&isFinite(t)&&(h=!0);break;case"nonFinite":"number"!=typeof t||isFinite(t)||(h=!0);break;case"object":t&&mn(t)===d&&(h=!0);break;case"array":Array.isArray(t)&&(h=!0);break;case"other":h=this.currOtherTypeCallback(t,r,n,i);break;case"integer":t!==Number(t)||!isFinite(t)||t%1||(h=!0);break;case"null":null===t&&(h=!0)}if(h)return s={path:r,value:t,parent:n,parentProperty:i},this._handleCallback(s,o,"value"),s}else if("`"===c[0]&&t&&On.call(t,c.slice(1))){var m=c.slice(1);p(this._trace(l,t[m],jn(r,m),t,m,o,!0))}else if(c.includes(",")){var g=c.split(","),y=!0,v=!1,b=void 0;try{for(var w,x=g[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var A=w.value;p(this._trace(Cn(A,l),t,r,n,i,o))}}catch(e){v=!0,b=e}finally{try{y||null==x.return||x.return()}finally{if(v)throw b}}}else!a&&t&&On.call(t,c)&&p(this._trace(l,t[c],jn(r,c),t,c,o,!0))}if(this._hasParentSelector)for(var k=0;k<f.length;k++){var O=f[k];if(O.isParentSelector){var E=u._trace(O.expr,t,O.path,n,i,o);if(Array.isArray(E)){f[k]=E[0];for(var j=E.length,C=1;C<j;C++)k++,f.splice(k,0,E[C])}else f[k]=E}}return f},_n.prototype._walk=function(e,t,r,n,i,o,a,s){if(Array.isArray(r))for(var u=r.length,c=0;c<u;c++)s(c,e,t,r,n,i,o,a);else if("object"===mn(r))for(var l in r)On.call(r,l)&&s(l,e,t,r,n,i,o,a)},_n.prototype._slice=function(e,t,r,n,i,o,a){if(Array.isArray(r)){var s=r.length,u=e.split(":"),c=u[2]&&parseInt(u[2])||1,l=u[0]&&parseInt(u[0])||0,f=u[1]&&parseInt(u[1])||s;l=l<0?Math.max(0,l+s):Math.min(s,l),f=f<0?Math.max(0,f+s):Math.min(s,f);for(var p=[],h=l;h<f;h+=c){var d=this._trace(Cn(h,t),r,n,i,o,a);Array.isArray(d)?d.forEach(function(e){p.push(e)}):p.push(d)}return p}},_n.prototype._eval=function(e,t,r,n,i,o){if(!this._obj||!t)return!1;e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=i,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=r,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=_n.toPathString(n.concat([r])),e=e.replace(/@path/g,"_$_path")),e.match(/@([.\s)[])/)&&(this.currSandbox._$_v=t,e=e.replace(/@([.\s)[])/g,"_$_v$1"));try{return En.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},_n.cache={},_n.toPathString=function(e){for(var t=e,r=t.length,n="$",i=1;i<r;i++)/^(~|\^|@.*?\(\))$/.test(t[i])||(n+=/^[0-9*]+$/.test(t[i])?"["+t[i]+"]":"['"+t[i]+"']");return n},_n.toPointer=function(e){for(var t=e,r=t.length,n="",i=1;i<r;i++)/^(~|\^|@.*?\(\))$/.test(t[i])||(n+="/"+t[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},_n.toPathArray=function(e){var t=_n.cache;if(t[e])return t[e].concat();var r=[],n=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/[['](\??\(.*?\))[\]']/g,function(e,t){return"[#"+(r.push(t)-1)+"]"}).replace(/\['([^'\]]*)'\]/g,function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?![^[]*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(e){var t=e.match(/#(\d+)/);return t&&t[1]?r[t[1]]:e});return t[e]=n,t[e]};var In=function(e){function t(t,r){e.call(this),e.captureStackTrace&&e.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=t,this.path=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Pn={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]};Pn.number=Pn.integer;var Rn=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"];function $n(e,t,r){return Object.keys(e).filter(function(e){var n=Rn.indexOf(t)>-1;return!(!(r.indexOf(e)>-1)||n)}).length>0}var Tn=function(){return Nr("random")()>.5};var Nn=function(){return null};function Mn(e){var t=void 0===e.minimum?Mr.MIN_INTEGER:e.minimum,r=void 0===e.maximum?Mr.MAX_INTEGER:e.maximum,n=e.multipleOf;if(n&&(r=Math.floor(r/n)*n,t=Math.ceil(t/n)*n),e.exclusiveMinimum&&t===e.minimum&&(t+=n||1),e.exclusiveMaximum&&r===e.maximum&&(r-=n||1),t>r)return NaN;if(n){if(-1===String(n).indexOf(".")){for(var i=un.number(Math.floor(t/n),Math.floor(r/n))*n;i<t;)i+=e.multipleOf;return i}var o,a,s=(r-t)/n;do{a=(o=un.number(0,s)*n)/n%1}while(0!==a);return o}return un.number(t,r,void 0,void 0,!0)}var Fn="Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore\net dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\ncommodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est\nlaborum".split(/\W/);function Ln(e){return un.shuffle(Fn).slice(0,e)}var Dn={type:["string","number","integer","boolean"]};function Hn(){return Ln(un.number(1,5)).join(" ")}function Un(e,t){void 0===e&&(e=0),void 0===t&&(t=140);for(var r=Math.max(0,e),n=un.number(r,t),i=Hn();i.length<r;)i+=Hn();return i.length>n&&(i=i.substr(0,n)),i}function Bn(){return un.date().toISOString()}var qn="https?://{hostname}(?:[a-zA-Z][a-zA-Z0-9+-.]*)+",Gn={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:qn,slug:"[a-zA-Z\\d_-]+","uri-reference":qn+"(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?","uri-template":qn.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":"(/(?:"+"[a-zA-Z][a-zA-Z0-9+-.]*".replace("]*","/]*")+"|~[01]))+",uuid:"^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$"};Gn.iri=Gn["uri-reference"],Gn["iri-reference"]=Gn["uri-reference"],Gn["idn-email"]=Gn.email,Gn["idn-hostname"]=Gn.hostname;var Yn=new RegExp("\\{("+Object.keys(Gn).join("|")+")\\}");function Jn(e,t){var r,n=dn(e.format);if("function"==typeof n)return n(e);switch(e.format){case"date-time":case"datetime":return Bn();case"date":return Bn().slice(0,10);case"time":return Bn().slice(11);case"ipv4":return[0,0,0,0].map(function(){return un.number(0,255)}).join(".");case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"slug":case"uri-template":case"uuid":return r=e.format,un.randexp(Gn[r]).replace(Yn,function(e,t){return un.randexp(Gn[t])});default:if(void 0===n){if(Nr("failOnInvalidFormat"))throw new Error("unknown registry key "+fn.short(e.format));return t()}throw new Error("unsupported format '"+e.format+"'")}}var Zn={boolean:Tn,null:Nn,array:function(e,t,r,n){var i=[];if(!e.items&&!e.additionalItems){if(fn.hasProperties(e,"minItems","maxItems","uniqueItems"))throw new In("missing items for "+fn.short(e),t);return i}if(Array.isArray(e.items))return e.items.map(function(e,i){var o=t.concat(["items",i]);return n(e,o,r)});var o=e.minItems,a=e.maxItems;Nr("minItems")&&(o=a?Math.min(Nr("minItems"),a):Nr("minItems")),Nr("maxItems")&&(a&&a>Nr("maxItems")&&(a=Nr("maxItems")),o&&o>Nr("maxItems")&&(o=a));var s=!0===Nr("alwaysFakeOptionals")?1:Nr("optionalsProbability"),u=Nr("alwaysFakeOptionals")||Nr("fixedProbabilities")||!1,c=un.number(o,a,1,5);!1!==s&&(c=Math.max(u?Math.round((a||c)*s):Math.abs(un.number(o,a)*s),o||0));for(var l="object"==typeof e.additionalItems?e.additionalItems:{},f=i.length;f<c;f+=1){var p=t.concat(["items",f]),h=n(e.items||l,p,r);i.push(h)}return e.uniqueItems?function(e,t,r,n,i,o){var a=[],s=[];function u(e){var t=JSON.stringify(e);return-1===s.indexOf(t)&&(s.push(t),a.push(e),!0)}t.forEach(u);for(var c=100;a.length!==t.length&&(u(o(r.items||n,e,i))||(c-=1),c););return a}(t.concat(["items"]),i,e,l,r,n):i},integer:function(e){return Mn(Object.assign({multipleOf:1},e))},number:Mn,object:function(e,t,r,n){var i={},o=e.properties||{},a=e.patternProperties||{},s="boolean"==typeof e.required?[]:(e.required||[]).slice(),u=!1!==e.additionalProperties,c=Object.keys(o),l=Object.keys(a),f=c.concat(l).reduce(function(e,t){return-1===s.indexOf(t)&&e.push(t),e},[]),p=s.concat(f),h=u&&!0===e.additionalProperties?Dn:e.additionalProperties;if(!u&&0===c.length&&0===l.length&&fn.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return{};if(!0===Nr("requiredOnly"))return s.forEach(function(e){o[e]&&(i[e]=o[e])}),n(i,t.concat(["properties"]),r);var d=!0===Nr("alwaysFakeOptionals")?1:Nr("optionalsProbability"),m=Nr("alwaysFakeOptionals")||Nr("fixedProbabilities")||!1,g=Nr("ignoreProperties")||[],y=Math.max(e.minProperties||0,s.length),v=e.maxProperties||p.length+(u?un.number(1,5):0),b=Math.max(0,y-s.length);1!==p.length||s.length||(b=un.number(b,p.length+(p.length-y))),!1!==d&&(b=!0===m?Math.round(y-s.length+d*(p.length-y)):un.number(y-s.length,d*(p.length-y)));var w=un.shuffle(f).slice(0,b),x=f.filter(function(e){return-1!==w.indexOf(e)}),A=s.concat(x).slice(0,v),k=[];if(e.dependencies&&(Object.keys(e.dependencies).forEach(function(t){var r=e.dependencies[t];-1!==A.indexOf(t)&&(Array.isArray(r)?r.forEach(function(e){-1===A.indexOf(e)&&A.push(e)}):k.push(r))}),k.length))return delete e.dependencies,n({allOf:k.concat(e)},t.concat(["properties"]),r);var O=[];A.forEach(function(e){for(var t=0;t<g.length;t+=1)if(g[t]instanceof RegExp&&g[t].test(e)||"string"==typeof g[t]&&g[t]===e||"function"==typeof g[t]&&g[t](o[e],e))return void O.push(e);var r;if(o[e]&&(i[e]=o[e]),l.forEach(function(t){e.match(new RegExp(t))&&(r=!0,i[e]?fn.merge(i[e],a[t]):i[un.randexp(e)]=a[t])}),!r){var n=a[e]||h;n&&!1!==h&&(i[a[e]?un.randexp(e):e]=o[e]||n)}});var E,j=Nr("fillProperties"),C=Nr("reuseProperties"),S=Object.keys(i).length+(j?0:O.length);function _(e){var t;do{if(!e.length)break;t=e.shift()}while(i[t]);return t}for(;j&&(l.length||u)&&!(S>=y);){if(u)if(C&&c.length-S>y){var I=0,P=void 0;do{if((I+=1)>1e3)break;P=_(s)||un.pick(c)}while(void 0!==i[P]);void 0===i[P]&&(i[P]=o[P],S+=1)}else if(l.length&&!h){var R=un.pick(l),$=un.randexp(R);i[$]||(i[$]=a[R],S+=1)}else{var T=_(s)||Ln(1)+(E=void 0,un.randexp("_?[_a-f\\d]{1,3}"+(E?"\\$?":"")));i[T]||(i[T]=h||Dn,S+=1)}for(var N=0;S<y&&N<l.length;N+=1){var M=l[N],F=un.randexp(M);i[F]||(i[F]=a[M],S+=1)}}if(0===s.length&&(!u||!1===d))for(var L=un.number(y,v);S<L;){var D=_(c);D&&(i[D]=o[D]),S+=1}return n(i,t.concat(["properties"]),r)},string:function(e){return fn.typecast("string",e,function(t){return e.format?Jn(e,function(){return Un(t.minLength,t.maxLength)}):e.pattern?un.randexp(e.pattern):Un(t.minLength,t.maxLength)})}};function zn(e,t,r,n){if(e=r(e,t)){if("properties"!==t[t.length-1]){if(Nr("useExamplesValue")&&Array.isArray(e.examples)){var i=e.examples.concat("default"in e?[e.default]:[]);return fn.typecast(null,e,function(){return un.pick(i)})}if(Nr("useDefaultValue")&&"default"in e)return e.default;if("template"in e)return fn.template(e.template,n)}if(e.not&&"object"==typeof e.not&&(e=fn.notValue(e.not,fn.omitProps(e,["not"]))),"const"in e)return e.const;if(Array.isArray(e.enum))return fn.typecast(null,e,function(){return un.pick(e.enum)});if("function"==typeof e.thunk)return zn(e.thunk(),t,r);if("function"==typeof e.generate)return fn.typecast(null,e,function(){return e.generate(n)});var o=e.type;if(Array.isArray(o)?o=un.pick(o):void 0===o&&(o=function(e,t){for(var r=Object.keys(Pn),n=0;n<r.length;n+=1){var i=r[n];if($n(e,t[t.length-1],Pn[i]))return i}}(e,t)||o)&&(e.type=o),"string"==typeof o){if(!Zn[o]){if(Nr("failOnInvalidTypes"))throw new In("unknown primitive "+fn.short(o),t.concat(["type"]));return Nr("defaultInvalidTypeProduct")}try{return Zn[o](e,t,r,zn)}catch(e){if(void 0===e.path)throw new In(e.stack,t);throw e}}var a={};return Array.isArray(e)&&(a=[]),Object.keys(e).forEach(function(n){"object"==typeof e[n]&&"definitions"!==n?a[n]=zn(e[n],t.concat([n]),r,a):a[n]=e[n]}),a}}function Wn(e){return"[object Object]"===Object.prototype.toString.call(e)&&!Object.keys(e).length}function Vn(e,t){return e&&"object"==typeof e?Array.isArray(e)?e.map(function(e){return Vn(e,!0)}).filter(function(e){return void 0!==e}):(Object.keys(e).forEach(function(t){if(Wn(e[t]))delete e[t];else{var r=Vn(e[t]);Wn(r)||(e[t]=r)}}),Object.keys(e).length||!t?e:void 0):e}function Kn(e,t,r,n){if(!e||"object"!=typeof e)return e;if(r||(r={}),t||(t=e),Array.isArray(e))return e.map(function(e){return Kn(e,t,r,n)});if(e.jsonPath){var i="object"!=typeof e.jsonPath?{path:e.jsonPath}:e.jsonPath;i.group=e.group||i.group||n,i.cycle=e.cycle||i.cycle||!1,i.reverse=e.reverse||i.reverse||!1,i.count=e.count||i.count||1;var o=i.group+"__"+i.path;return r[o]||(i.count>1?r[o]=_n(i.path,t).slice(0,i.count):r[o]=_n(i.path,t)),i.cycle||i.reverse?function(e,t){if(!Array.isArray(e))return e;var r=t?e.pop():e.shift();return t?e.unshift(r):e.push(r),r}(r[o],i.reverse):function(e){return Array.isArray(e)?un.pick(e):e}(r[o])}return Object.keys(e).forEach(function(n){e[n]=Kn(e[n],t,r,n)}),e}function Xn(e,t,r){try{var n={},i=zn(fn.clone(t),[],function i(o,a){if(!o||n[o.$ref]>un.pick([0,1]))return o?(delete o.$ref,o):null;if("function"==typeof o.generate)return o;if("string"==typeof(o.$id||o.id)&&(delete o.id,delete o.$id,delete o.$schema),"string"==typeof o.$ref){if(n[o.$ref]=n[o.$ref]||0,n[o.$ref]+=1,"#"===o.$ref)return delete o.$ref,o;var s;if(-1===o.$ref.indexOf("#/")&&(s=e[o.$ref]||null),0===o.$ref.indexOf("#/definitions/")&&(s=t.definitions[o.$ref.split("#/definitions/")[1]]||null),void 0!==s){if(!s&&!0!==Nr("ignoreMissingRefs"))throw new Error("Reference not found: "+o.$ref);fn.merge(o,s||{})}return delete o.$ref,o}if(Array.isArray(o.allOf)){var u=o.allOf;delete o.allOf,u.forEach(function(e){var t=i(e,a);fn.merge(o,"function"==typeof t.thunk?t.thunk():t)})}if(Array.isArray(o.oneOf||o.anyOf)){var c=o.oneOf||o.anyOf;return o.enum&&o.oneOf&&(o.enum=o.enum.filter(function(e){return fn.validate(e,c)})),{thunk:function(){var e=fn.omitProps(o,["anyOf","oneOf"]),t=un.pick(c);return fn.merge(e,t),o.oneOf&&e.properties&&c.forEach(function(r){r!==t&&r.required&&r.required.forEach(function(t){delete e.properties[t]})}),e}}}if(Object.keys(o).forEach(function(e){!Array.isArray(o[e])&&"object"!=typeof o[e]||fn.isKey(e)||(o[e]=i(o[e],a.concat(e)))}),a){var l=a[a.length-1];if("properties"===l||"items"===l)return o}return r.wrap(o)});return Nr("resolveJsonPath")?Kn(Vn(i)):Vn(i)}catch(e){throw e.path?new Error(e.message+" in /"+e.path.join("/")):e}}var Qn=new pn;function ei(){Qn.define("pattern",un.randexp),Qn.define("autoIncrement",function(e,t){if(!this.offset){var r=t.minimum||1,n=r+Mr.MAX_NUMBER,i=e.initialOffset||t.initialOffset;this.offset=i||un.number(r,n)}return!0===e?this.offset++:t}),Qn.define("sequentialDate",function(e,t){if(this.now||(this.now=un.date()),e){if(t=this.now.toISOString(),-1===["seconds","minutes","hours","days","weeks","months","years"].indexOf(e=!0===e?"days":e))throw new Error("Unsupported increment by "+fn.short(e));this.now.setTime(this.now.getTime()+un.date(e))}return t})}function ti(e){var t={};return Array.isArray(e)?e.forEach(function(e){t[e.$id||e.id]=e}):t=e||{},t}var ri=function(e,t,r){return console.log("[json-schema-faker] calling JsonSchemaFaker() is deprecated, call either .generate() or .resolve()"),r&&console.log("[json-schema-faker] references are only supported by calling .resolve()"),ri.generate(e,t)};return ri.generate=function(e,t){return Xn(ti(t),e,Qn)},ri.resolve=function(e,t,r){"string"==typeof t&&(r=t,t={}),r=(r=r||("undefined"!=typeof process?process.cwd():"")).replace(/\/+$/,"")+"/";var n=ti(t),i={order:300,canRead:!0,read:function(e,t){try{t(null,n[e.url]||n[e.url.split("/").pop()])}catch(e){t(e)}}};return _r.dereference(r,e,{resolve:{file:{order:100},http:{order:200},fixedRefs:i},dereference:{circular:"ignore"}}).then(function(e){return Xn(n,e,Qn)})},ei(),ri.format=dn,ri.option=Nr,ri.random=un,ri.extend=function(e,t){return Qn.extend(e,t),ri},ri.define=function(e,t){return Qn.define(e,t),ri},ri.reset=function(e){return Qn.reset(e),ei(),ri},ri.locate=function(e){return Qn.get(e)},ri.version="0.5.0-rc16",ri});
//# sourceMappingURL=index.umd.min.js.map
